(use cock setup-helper-mod)

(define compile (lambda () (compile-shared-module
			    'libencode
			    options: '(-X cock -O3))))

(define install (lambda () (install-shared-extension-module
			    'libencode
			    (extension-version "0.1-alpha"))))

;; (run-cock -o libencode.wiki
;; 	  libencode.scm decoder.scm util.scm encoder.scm)

(define (main args)
  (cond
   ((equal? "compile"(car args))
    (compile) 0)
   ((equal? "install" (car args))
    (install) 0)
   (else 1)))

